USE Jabroni
CREATE TABLE Адрес
(
	ID_адреса_P int primary key (ID_адреса_P) identity not null,
	город varchar(50) not null,
	улица varchar(50) not null,
	номер_дома int not null,
	номер_корпуса int,
	номер_квартир int not null
)
CREATE TABLE Квартира
(
	ID_квартиры_P int primary key identity not null,
	колво_комнат int not null,
	этаж int not null,
	площадь float not null,
	наличие_балконов int not null CHECK (наличие_балконов = 1 or наличие_балконов=0),
	дата_продажи date default(null),
	дата_обмена date default(null),
	ID_адреса_F int foreign key (ID_адреса_F) references Адрес (ID_адреса_P)
)
CREATE TABLE Клиент
(
	имя varchar(50) not null,
	фамилия varchar(50) not null,
	отчество varchar(50) not null,
	паспорт_серия varchar(9) not null,
	телефон varchar(15) not null,
	пароль varchar(15) not null,
	ID_клиента_P int primary key identity not null
)
CREATE TABLE Менеджер
(
	имя varchar(50) not null,
	фамилия varchar(50) not null,
	отчество varchar(50) not null,
	ID_менеджера_P int primary key identity not null
)
CREATE TABLE Анкета
(
	ID_анкеты_P int identity not null,
	вид_анкеты varchar(20) not null,
	статус int CHECK (статус = 1 or статус=2 or статус=3),
	ID_квартиры_F int not null foreign key (ID_квартиры_F) references Квартира (ID_квартиры_P),
	ID_клиента_F int not null foreign key (ID_клиента_F) references Клиент (ID_клиента_P),
	ID_менеджера_F int foreign key (ID_менеджера_F) references Менеджер(ID_менеджера_P)
)